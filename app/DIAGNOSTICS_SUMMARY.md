# üìä –°–≤–æ–¥–∫–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

## üî¥ –ü—Ä–æ–±–ª–µ–º–∞ #1: –ü–æ–¥–ø–∏—Å–∫–∞ –≤—Å–µ–≥–¥–∞ 7 –¥–Ω–µ–π

### –î–∏–∞–≥–Ω–æ–∑
- ‚úÖ **–ë—ç–∫:** –†–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `days_remaining`
- ‚ùå **–§—Ä–æ–Ω—Ç:** –ü–∞—Ä—Å–∏—Ç `duration_days` –≤–º–µ—Å—Ç–æ `days_remaining`

### –†–µ–∑—É–ª—å—Ç–∞—Ç
–ú–æ–¥–µ–ª—å `UserSubscriptionOut` –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¢–ê–†–ò–§–ê (7 –¥–Ω–µ–π) –≤–º–µ—Å—Ç–æ –û–°–¢–ê–í–®–ò–•–°–Ø –¥–Ω–µ–π –ø–æ–¥–ø–∏—Å–∫–∏

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
1. –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `daysRemaining: int` –≤ –∫–ª–∞—Å—Å `UserSubscriptionOut`
2. –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ `_calculateDaysRemaining()` –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ –∏–∑ `json['days_remaining']`
3. –û–±–Ω–æ–≤–∏—Ç—å UI –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è `daysRemaining` –≤–º–µ—Å—Ç–æ `durationDays`

**–§–∞–π–ª:** `lib/api/models.dart` (~20 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞)  
**–í—Ä–µ–º—è:** 15 –º–∏–Ω—É—Ç  
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** ‚≠ê –õ–µ–≥–∫–æ

---

## üî¥ –ü—Ä–æ–±–ª–µ–º–∞ #2: VPN –Ω–µ –≤–∫–ª—é—á–∞–µ—Ç—Å—è —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏

### –î–∏–∞–≥–Ω–æ–∑
- ‚úÖ **–ë—ç–∫:** –°–æ–∑–¥–∞–µ—Ç peer, –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫–æ–Ω—Ñ–∏–≥, —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –ë–î
- ‚úÖ **API:** GET /vpn_peers/self/config –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥ –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚ùå **–§—Ä–æ–Ω—Ç:** `VpnManager` —ç—Ç–æ STUB - –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `wireguard_flutter`
- ‚ùå **UI:** `_toggleVpn()` —Ç–æ–ª—å–∫–æ –º–µ–Ω—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –Ω–µ –≤–∫–ª—é—á–∞–µ—Ç VPN

### –†–µ–∑—É–ª—å—Ç–∞—Ç
–ö–Ω–æ–ø–∫–∞ VPN —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ UI —É—Ä–æ–≤–Ω–µ, –Ω–æ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –Ω–µ—Ç

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
1. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `VpnManager.connect()` —Å –≤—ã–∑–æ–≤–æ–º `WireGuardFlutter.instance.create()` –∏ `.activate()`
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `VpnManager.disconnect()` —Å –≤—ã–∑–æ–≤–æ–º `.deactivate()` –∏ `.delete()`
3. –û–±–Ω–æ–≤–∏—Ç—å `_toggleVpn()` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `vpnManager` –≤–º–µ—Å—Ç–æ —Ç–æ–ª—å–∫–æ UI
4. –î–æ–±–∞–≤–∏—Ç—å error handling

**–§–∞–π–ª—ã:** 
- `lib/api/vpn_manager.dart` (~100 —Å—Ç—Ä–æ–∫)
- `lib/screens/home_screen.dart` (~30 —Å—Ç—Ä–æ–∫)
- `lib/api/vpn_service.dart` (~5 —Å—Ç—Ä–æ–∫)

**–í—Ä–µ–º—è:** 30-45 –º–∏–Ω—É—Ç  
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** ‚≠ê‚≠ê –°—Ä–µ–¥–Ω–µ

---

## üìã –ò—Ç–æ–≥–æ–≤—ã–π —á–µ–∫-–ª–∏—Å—Ç

### –ü—Ä–æ–±–ª–µ–º–∞ #1 (–ü–æ–¥–ø–∏—Å–∫–∞)
- [ ] –û—Ç–∫—Ä—ã—Ç—å `lib/api/models.dart`
- [ ] –ù–∞–π—Ç–∏ –∫–ª–∞—Å—Å `UserSubscriptionOut` (~—Å—Ç—Ä–æ–∫–∞ 110)
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `final int daysRemaining;`
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
- [ ] –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ `_calculateDaysRemaining()`
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `fromJson()` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –º–µ—Ç–æ–¥–∞
- [ ] –û–±–Ω–æ–≤–∏—Ç—å UI –≤ `subscription_screen.dart` (–µ—Å–ª–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–∞–º)
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å: –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –¥–Ω–∏ —Å—á–∏—Ç–∞—é—Ç—Å—è

### –ü—Ä–æ–±–ª–µ–º–∞ #2 (VPN)
- [ ] –û—Ç–∫—Ä—ã—Ç—å `lib/api/vpn_manager.dart`
- [ ] –î–æ–±–∞–≤–∏—Ç—å `import 'package:wireguard_flutter/wireguard_flutter.dart';`
- [ ] –ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å `connect()` –º–µ—Ç–æ–¥ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –≤—ã–∑–æ–≤–∞–º–∏ –ø–ª–∞–≥–∏–Ω–∞
- [ ] –ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å `disconnect()` –º–µ—Ç–æ–¥
- [ ] –û—Ç–∫—Ä—ã—Ç—å `lib/api/vpn_service.dart`
- [ ] –î–æ–±–∞–≤–∏—Ç—å `late final VpnManager vpnManager;`
- [ ] –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ
- [ ] –û—Ç–∫—Ä—ã—Ç—å `lib/screens/home_screen.dart`
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `_toggleVpn()` –¥–ª—è –≤—ã–∑–æ–≤–∞ `vpnManager`
- [ ] –î–æ–±–∞–≤–∏—Ç—å error handling –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —ç–º—É–ª—è—Ç–æ—Ä–µ/—É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ: –≤–∫–ª—é—á–∏—Ç—å VPN –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

---

## üìû –ß—Ç–æ –¥–∞–ª—å—à–µ?

**–ì–æ—Ç–æ–≤—ã –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏?**

–ü–æ–ª–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç —Å –∫–æ–¥–æ–º –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤: **DIAGNOSTICS_AND_SOLUTIONS.md**

–¢–∞–º –µ—Å—Ç—å:
- üìã –ü–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∫–∞–∂–¥–æ–π –ø—Ä–æ–±–ª–µ–º—ã
- üìù –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞ –¥–ª—è –∫–æ–ø–∏–ø–∞—Å—Ç–∞
- üöÄ –ü–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

